<div class="ui equal width form">
    <div class="fields">
        <div class="field">
            <div class="ui top attached block header">
                <style>
                    .ui.action.file.input > input {
                        display: none;
                    }

                    .ui.action.file.input:not([class*="left action"]) > label {
                        border-top-right-radius: 0 !important;
                        border-bottom-right-radius: 0 !important;
                        border-right-color: transparent !important;
                    }

                    .ui.action.file.input > label:first-child {
                        cursor: pointer;
                        width: auto;
                        -webkit-box-flex: 1;
                        -webkit-flex: 1 0 auto;
                        -ms-flex: 1 0 auto;
                        flex: 1 0 auto;
                        outline: 0;
                        -webkit-tap-highlight-color: rgba(255,255,255,0);
                        padding: .67861429em 1em;
                        background: #FFF;
                        border: 1px solid rgba(34,36,38,.15);
                        color: rgba(0,0,0,.87);
                        border-radius: .28571429rem;
                        -webkit-transition: box-shadow .1s ease,border-color .1s ease;
                        transition: box-shadow .1s ease,border-color .1s ease;
                        box-shadow: none;
                    }

                    .ui.action.file.input > label:last-child {
                        border-radius: 0 .28571429rem .28571429rem 0 !important;
                    }
                </style>

                <br />
                <center><h3 style="color:#41B9E6; ">CREAR CATEGORÍA</h3></center>
                <br />
                <br />
                @using (Ajax.BeginForm("ProcessCreateCategoriaIzaje", "FactoresIzaje", null, new AjaxOptions()
                {
                    HttpMethod = "POST",
                    OnBegin = "onBeginProcessCreateCategoriaIzage()",
                    OnSuccess = "onSuccessProcessCreateCategoriaIzage(data)",
                    OnFailure = "onFailureProcessCreateCategoriaIzage()",
                }, new { @id = "formProcessCreateCategoriaIzage", @enctype = "multipart/form-data" }))
                {
                    <div class="ui equal width form">
                        <div class="fields">
                            <div class="field">
                                <label>Tipo equipo</label>
                                @Html.DropDownList("cbxTipoEquipo", (SelectList)ViewBag.GetTipoEquipoDictionary, "[-Seleccione una opción-]", new { @class = "ui search dropdown" })
                            </div>
                            <div class="field">
                                <label>Categoría</label>
                                <input type="text" id="txbCategoria" name="txbCategoria" placeholder="Digite Categoria" autocomplete="off" maxlength="50">
                            </div>
                        </div>
                        <button class="ui primary button">
                            Guardar
                        </button>
                        <div class="ui floating warning message" style="width:50%;margin-left:25%;margin-right:25%;text-align:center" id="messageCreateCategoria">
                            <div class="header">
                                Atención
                            </div>
                            <p id="textmessageCreateCategoria"></p>
                        </div>
                    </div>
                }
                <script type="text/javascript">

                    $('input:text, .ui.button', '.ui.action.input').on('click', function (e) {
                        $('input:file', $(e.target).parents()).click();
                    });

                    $('input:file', '.ui.action.input').on('change', function (e) {
                        var name = e.target.files[0].name;
                        $('input:text', $(e.target).parent()).val(name);
                    });

                    function onBeginProcessCreateCategoriaIzage() {
                        $('#renderPages').addClass("loading");
                    }
                    function onFailureProcessCreateCategoriaIzage() {
                        $('#renderPages').removeClass("loading");
                        $('#messageCreateCategoria').show('slow').addClass("warning").removeClass("info");
                        $('#textmessageCreateCategoria').text("Ha ocurrido un error al procesar la solicitud");
                    }
                    function onSuccessProcessCreateCategoriaIzage(data) {
                        $('#renderPages').removeClass("loading");
                        if (data.result) {
                            $('#messageCreateCategoria').show('slow').removeClass("warning").addClass("info");
                            $('#textmessageCreateCategoria').text("Proceso Completado, es necesario que actualice la página para que pueda agregar y asociar los factores que requiera");
                        } else {
                            $('#messageCreateCategoria').show('slow').addClass("warning").removeClass("info");
                            $('#textmessageCreateCategoria').text(data.message);
                        }
                    }
                </script>
            </div>
        </div>
        <div class="field">
            <div class="ui top attached block header">

                <style>
                    .ui.action.file.input > input {
                        display: none;
                    }

                    .ui.action.file.input:not([class*="left action"]) > label {
                        border-top-right-radius: 0 !important;
                        border-bottom-right-radius: 0 !important;
                        border-right-color: transparent !important;
                    }

                    .ui.action.file.input > label:first-child {
                        cursor: pointer;
                        width: auto;
                        -webkit-box-flex: 1;
                        -webkit-flex: 1 0 auto;
                        -ms-flex: 1 0 auto;
                        flex: 1 0 auto;
                        outline: 0;
                        -webkit-tap-highlight-color: rgba(255,255,255,0);
                        padding: .67861429em 1em;
                        background: #FFF;
                        border: 1px solid rgba(34,36,38,.15);
                        color: rgba(0,0,0,.87);
                        border-radius: .28571429rem;
                        -webkit-transition: box-shadow .1s ease,border-color .1s ease;
                        transition: box-shadow .1s ease,border-color .1s ease;
                        box-shadow: none;
                    }

                    .ui.action.file.input > label:last-child {
                        border-radius: 0 .28571429rem .28571429rem 0 !important;
                    }
                </style>

                <br />
                <center><h3 style="color:#41B9E6; ">CREAR FACTOR</h3></center>
                <br />
                <br />
                @using (Ajax.BeginForm("ProcessCreateFactorIzaje", "FactoresIzaje", null, new AjaxOptions()
                {
                    HttpMethod = "POST",
                    OnBegin = "onBeginProcessCreateFactorIzage()",
                    OnSuccess = "onSuccessProcessCreateFactorIzage(data)",
                    OnFailure = "onFailureProcessCreateFactorIzage()",
                }, new { @id = "formProcessCreateFactorIzage", @enctype = "multipart/form-data" }))
                {
                    <div class="ui equal width form">
                        <div class="fields">
                            <div class="field">
                                <label>Categoría</label>
                                @Html.DropDownList("cbxCategoria", (SelectList)ViewBag.GetCategoriaDictionary, "[-Seleccione una opción-]", new { @class = "ui search dropdown" })

                            </div>
                            <div class="field">
                                <label>Factor</label>
                                <input type="text" id="txbFactor" name="txbFactor" placeholder="Factor" autocomplete="off" maxlength="50">
                            </div>
                        </div>
                        <button class="ui primary button">
                            Guardar
                        </button>
                        <div class="ui floating warning message" style="width:50%;margin-left:25%;margin-right:25%;text-align:center" id="messageCreateFactor">
                            <div class="header">
                                Atención
                            </div>
                            <p id="textmessageCreateFactor"></p>
                        </div>
                    </div>
                }
                <script type="text/javascript">

                    $('input:text, .ui.button', '.ui.action.input').on('click', function (e) {
                        $('input:file', $(e.target).parents()).click();
                    });

                    $('input:file', '.ui.action.input').on('change', function (e) {
                        var name = e.target.files[0].name;
                        $('input:text', $(e.target).parent()).val(name);
                    });

                    function onBeginProcessCreateFactorIzage() {
                        $('#renderPages').addClass("loading");
                    }
                    function onFailureProcessCreateFactorIzage() {
                        $('#renderPages').removeClass("loading");
                        $('#messageCreateFactor').show('slow').addClass("warning").removeClass("info");
                        $('#textmessageCreateFactor').text("Ha ocurrido un error al procesar la solicitud");
                    }
                    function onSuccessProcessCreateFactorIzage(data) {
                        $('#renderPages').removeClass("loading");
                        if (data.result) {
                            $('#messageCreateFactor').show('slow').removeClass("warning").addClass("info");
                            $('#textmessageCreateFactor').text("Proceso Completado");
                        } else {
                            $('#messageCreateFactor').show('slow').addClass("warning").removeClass("info");
                            $('#textmessageCreateFactor').text(data.message);
                        }
                    }
                </script>
            </div>
        </div>
    </div>
</div>